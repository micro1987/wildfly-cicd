node('slave') {
  stage ('build latest image') {
    openshift.withCluster() {
        openshift.withProject() {
             openshiftBuild(buildConfig: 'wildfly-app', showBuildLogs: 'true')
        }    
    }     
  }
 
  stage ('Tag Image to DEV') {
     openshift.withCluster() {
        openshift.withProject() {
            openshift.tag(namespace: 'wildfly-cicd', srcStream: 'wildfly-app', srcTag: 'latest' destStream: 'wildfly-app',
		 destTag: 'latest', destinationNamespace: 'wildfly-dev')
        }
     }  
  }  
}
